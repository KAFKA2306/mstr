# MicroStrategy Bitcoin Analysis

## 概要

このプロジェクトは、MicroStrategy社のビットコイン保有戦略を分析するためのツールセットです。株価データとビットコイン価格データを取得し、それらを視覚化することで、MicroStrategyの企業価値とビットコイン保有価値の関係を詳細に分析します。

## 主要コンポーネント

このプロジェクトは主に2つのPythonスクリプトで構成されています：

1. `yf.py`: データ取得と前処理を行います。
2. `graph.py`: データの分析と視覚化を行います。

### yf.py

このスクリプトは以下の主要な機能を持っています：

- `yfinance` ライブラリを使用して、MicroStrategy（MSTR）の株価データとビットコイン（BTC-USD）の価格データを取得します。
- 外部ファイルからMicroStrategyのビットコイン保有量データを読み込みます。
- これらのデータを結合し、一つの統合されたデータセットを作成します。

主要な関数：
- `fetch_data()`: 指定された銘柄のデータを Yahoo Finance から取得します。
- `load_btc_holdings()`: ビットコイン保有量のデータを読み込みます。
- `process_data()`: 全てのデータを結合し、前処理を行います。

### graph.py

このスクリプトはデータの分析と視覚化を担当します：

- `yf.py` で作成されたデータを読み込みます。
- MicroStrategyの発行済み株式数を取得します。
- ビットコイン保有総額とMicroStrategyの時価総額を計算します。
- 様々なグラフを生成して、データを視覚化します。

主要な関数：
- `calculate_values()`: ビットコイン保有総額とMSTRの時価総額を計算します。
- `plot_total_values()`: 時系列でのビットコイン保有総額とMSTR時価総額の比較グラフを作成します。
- `plot_BTC_MSTR_Ratio()`: ビットコイン保有総額とMSTR時価総額の比率の推移をプロットします。
- `plot_scatter()`: ビットコイン保有総額とMSTR時価総額の散布図を作成し、年ごとに色分けします。

## データの解釈

このツールセットによって生成されるグラフは、以下のような洞察を提供します：

1. **総額比較グラフ**: MicroStrategyのビットコイン保有総額と企業の時価総額の推移を直接比較できます。これにより、ビットコイン投資が企業価値にどの程度影響しているかを視覚的に理解できます。

2. **比率グラフ**: ビットコイン保有総額とMSTR時価総額の比率の推移を示します。この比率が1を超える場合、市場がMicroStrategyの価値をそのビットコイン保有以下に評価していることを意味します。

3. **散布図**: 各データポイントの年別の色分けにより、MicroStrategyのビットコイン戦略の経時的な変化を観察できます。また、y=x の点線は、ビットコイン保有総額とMSTR時価総額が等しい点を示しており、企業価値とビットコイン投資の関係を理解する上で重要な基準線となります。

## 使用方法

1. `yf.py` を実行してデータを取得・前処理します。
2. `graph.py` を実行してグラフを生成します。

生成されたグラフと処理済みデータは 'output' ディレクトリに保存されます。





## 2. ビットコイン保有の推移

### 2.1 保有量の増加

- 初期購入：2020年8月11日に21,454 BTCを購入。
- 大規模増加：2020年12月21日に29,646 BTCを追加し、総保有量が70,470 BTCに。
- 継続的な蓄積：その後も定期的に購入を続け、2024年10月5日時点で252,220 BTCを保有。

この急速な蓄積は、MicroStrategyの積極的なビットコイン戦略を如実に示しています。

### 2.2 投資総額の増加

- 初期投資：2億5,000万ドル
- 2024年10月時点：99億1,000万ドル

投資総額の大幅な増加は、同社のビットコインへのコミットメントの深さを示しています。

## 3. ビットコイン保有価値 vs 企業価値

### 3.1 比率の分析

BTC保有価値/MSTR時価総額の比率を分析すると：

- 最小値：約0.2（2020年初期）
- 最大値：約1.2（2022年中頃）
- 平均値：おおよそ0.6-0.7の範囲

この比率が1を超える期間が存在することは、市場がMicroStrategyの価値をそのビットコイン保有以下に評価していた時期があったことを示しています。

### 3.2 相関関係

ビットコイン保有価値とMSTR時価総額の間に強い正の相関が見られます。これは、MicroStrategyの株価がビットコインの価格動向に大きく影響されていることを示唆しています。

## 4. 年別トレンド分析

散布図から年別のトレンドを観察すると：

- 2020年（紫）：比較的小規模な投資から始まり、右上に向かって急速に拡大。
- 2021年（水色）：大きな変動を伴いながら、全体的に右上方向への移動が継続。
- 2022年（緑）：下方への移動が見られ、ビットコイン価格の下落を反映。
- 2023年（橙）：再び上昇トレンドに転じ、右上方向への動きが顕著。
- 2024年（赤）：さらなる上昇と、より高い値域での変動が見られる。

この推移は、ビットコイン市場の全体的なトレンドとMicroStrategyの積極的な購入戦略の両方を反映しています。
